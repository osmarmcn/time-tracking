<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Frontend Mentor | Time tracking dashboard</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<section class="container">
  <div class="content">
    <div class="info">
      <div class="person">
        <div class="img">
          <img src="images/image-jeremy.png" alt="">
        </div>
        <div class="person-text">
          <span>Report for</span>
          <h2 id="personName">Jeremy Robson</h2>
        </div>
      </div>
    </div>
    <div class="info-list">
      <ul>
        <li id="daily">Daily</li>
        <li id="weekly">Weekly</li>
        <li id="monthly">Monthly</li>
      </ul>
    </div>
  </div>
  <div class="time" id="timeData">
    <!-- Time data will be inserted here -->
  </div>
</section>

<script>
  // Fazendo uma solicitação para obter o JSON
  fetch('data.json')
    .then(response => response.json())
    .then(data => {
      // Função para formatar o tempo
      const formatTime = (hours) => {
        if (hours >= 24) {
          const days = Math.floor(hours / 24);
          return `${days}d ${hours % 24}hrs`;
        } else {
          return `${hours}hrs`;
        }
      };

      const timeDataDiv = document.getElementById('timeData');

      // Loop pelos dados JSON
      data.forEach(activity => {
        const title = activity.title;
        const dailyCurrent = activity.timeframes.daily.current;
        const dailyPrevious = activity.timeframes.daily.previous;
        const weeklyCurrent = activity.timeframes.weekly.current;
        const weeklyPrevious = activity.timeframes.weekly.previous;
        const monthlyCurrent = activity.timeframes.monthly.current;
        const monthlyPrevious = activity.timeframes.monthly.previous;

        // Criando a estrutura HTML para cada atividade
        const activityHTML = `
          <div class="time-box">
            <div class="time-box-text">
              <div class="title">
                <h4>${title}</h4>
                <img src="images/icon-ellipsis.svg" alt="">
              </div>
              <div class="time-box-content">
                <h2>${formatTime(weeklyCurrent)}</h2>
                <p>Last Week - ${formatTime(weeklyPrevious)}</p>
              </div>
            </div>
          </div>
        `;

        // Adicionando a estrutura HTML à div de dados de tempo
        timeDataDiv.innerHTML += activityHTML;
      });
    })
    .catch(error => console.error('Error fetching data:', error));
</script>

</body>
</html>
